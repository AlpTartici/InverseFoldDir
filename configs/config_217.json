{
  "name": "config_217",
  "description": "Config af - structure_noise_mag_std is 0.1",
  "base_output_dir": "../tmp",
  "verbose": false,
  "cleanup_intermediate": false,
  "tmp_checkpoint_dir": "../tmp",
  "pipeline_report_filename": "pipeline_report.json",
  "pipeline_config_save_filename": "pipeline_config.json",
  "strict_validation": true,
  "require_all_params_explicit": true,
  "training": {
    "enabled": true,
    "dataset": {
      "split_json": "datasets/cath-4.2/chain_set_splits.json",
      "map_pkl": "datasets/cath-4.2/chain_set_map_with_b_factors.pkl",
      "base_dataset_dir": "datasets/cath-4.2"
    },
    "batch_size": 64,
    "epochs": 35,
    "learning_rate": 0.0004,
    "grad_clip": 5.0,
    "time_integration": "film",
    "use_time_conditioning": true,
    "use_virtual_node": false,
    "distributed": {
      "enabled": true,
      "num_gpus": 1,
      "master_port": 29500,
      "backend": "nccl",
      "timeout_minutes": 3000
    },
    "wandb_project": "inverse-folding",
    "wandb_enabled": true,
    "additional_args": [
      "--num_workers",
      "1",
      "--run_mode",
      "regular",
      "--dropout",
      "0",
      "--weight_decay",
      "0.001",
      "--patience",
      "400",
      "--scheduler_patience",
      "45",
      "--num_layers_gvp",
      "5",
      "--num_message_layers",
      "2",
      "--num_layers_prediction",
      "4",
      "--hidden_dim",
      "512",
      "--hidden_dim_v",
      "64",
      "--node_dim_s",
      "10",
      "--node_dim_v",
      "3",
      "--edge_dim_s",
      "32",
      "--edge_dim_v",
      "1",
      "--head_hidden",
      "256",
      "--time_dim",
      "64",
      "--time_scale",
      "1.0",
      "--alpha_min",
      "1.0",
      "--alpha_max",
      "10.0",
      "--alpha_range",
      "0.5",
      "--t_min",
      "0.0",
      "--t_max",
      "8.0",
      "--time_sampling_strategy",
      "exponential",
      "--k_neighbors",
      "32",
      "--k_farthest",
      "0",
      "--k_random",
      "0",
      "--num_rbf_3d",
      "16",
      "--num_rbf_seq",
      "16",
      "--use_wandb",
      "--use_virtual_node",
      "--use_smoothed_labels",
      "--recycle_steps",
      "1",
      "--ratio_af2_pdb",
      "31",
      "--max_batches_per_epoch",
      "1000",
      "--heterogeneous_batches",
      "true",
      "--architecture",
      "interleaved",
      "--dirichlet_multiplier_training",
      "1",
      "--save_intermediate_models",
      "--structure_noise_mag_std",
      "0.1"
    ],
    "seed": null,
    "resume_from_checkpoint": null,
    "val_split": 0.1,
    "val_frequency": 1
  },
  "sampling": {
    "enabled": true,
    "dataset": {
      "split_json": "datasets/cath-4.2/chain_set_splits.json",
      "map_pkl": "datasets/cath-4.2/chain_set_map_with_b_factors.pkl",
      "base_dataset_dir": "datasets/cath-4.2"
    },
    "model_checkpoint": "auto",
    "num_samples": 1,
    "flow_temp": 1.0,
    "steps": 10,
    "T": 8.0,
    "t_min": 0.0,
    "split": "validation",
    "integration_method": "euler",
    "save_probabilities": true,
    "detailed_json": false,
    "batch_size": 32,
    "max_workers": 1,
    "threads_per_gpu": 1,
    "output_format": "csv",
    "min_length": 20,
    "max_length": 700,
    "use_virtual_node": null,
    "k_neighbors": null,
    "k_farthest": null,
    "k_random": null,
    "num_rbf_3d": null,
    "num_rbf_seq": null,
    "time_integration": null,
    "use_time_conditioning": null,
    "distributed": {
      "enabled": true,
      "num_gpus": 1,
      "master_port": 29500,
      "backend": "nccl",
      "timeout_minutes": 3000
    },
    "additional_args": [
      "--split",
      "validation",
      "--integration_method",
      "euler",
      "--sample_all",
      "--save_probabilities",
      "--auto_config",
      "--dirichlet_concentration",
      "20"
    ],
    "auto_config": true
  },
  "evaluation": {
    "enabled": true,
    "predictions_csv": "auto",
    "reference_structures_dir": "datasets/esmfold_predictions/esmfold_predictions_on_ref_valid",
    "predict_structures": true,
    "compare_structures": true,
    "batch_size": 64,
    "max_workers": 1,
    "overwrite_predictions": true,
    "comparison_results_filename": "comparison_results.csv",
    "output_file_patterns": ["*.csv"],
    "distributed": {
      "enabled": false,
      "num_gpus": 1,
      "master_port": 29500,
      "backend": "nccl",
      "timeout_minutes": 300
    },
    "esmfold_device": "auto",
    "additional_args": [
      "--protein-subset",
      "datasets/proteins_with_no_missing_residues_bFacUnder75_tmAbove95_count30.csv",
      "--protein-timeout",
      "3"
    ]
  },
  "global_distributed": null,
  "conda_env": null,
  "docker_image": null,
  "singularity_image": null,
  "memory_limit": null,
  "time_limit": null,
  "retry_on_failure": true,
  "max_retries": 3,
  "_enhancement_notes": {
    "version": "time_sampling_configs_v1",
    "changes": [
      "Time sampling strategy: uniform",
      "Alpha range: 1",
      "Time integration: film",
      "Rollback enabled: False",
      "Epochs: 70",
      "Patience: 200",
      "Scheduler patience: 10",
      "Protein subset evaluation enabled",
      "Protein timeout: 3 minutes",
      "Structure noise magnitude std: 0.1"
    ]
  }
}
